<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Injuries Page</title>
    <link rel="import" href="includes/head.html">
    <link rel="stylesheet" type ="text/css" href="includes/slider.css">
</head>
<body>

    <header>


        <nav class="navbar navbar-inverse">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html">Team Management System</a>
            </div>
            <ul class="nav navbar-nav">
                <li><a href="#">Injury page</a></li>
            </ul>
        </nav>

    </header>

    <h1>View Injuries</h1>
    
    
    <label class="switch">
        <input type="checkbox"/>
        <span class="slider round"></span>
    </label>

    <table id="player-table" class="table" style="max-width:800px;">
        <thead class="thead-dark">
            <tr>
                <th>Name</th>
                <th>Injury Date</th>
                <th>Injury Description</th>
            </tr>
        </thead>
        <tbody id="bodyAllInjuries"></tbody>
    </table>
    <script>
        function getAllInjuries() {
            service("getCurrentInjuries", "{}", function (data) {
                var d = "";
                $.each(data, function (index, value) {
                    var regEx = /\d+/g;
                    var dateInjured = new Date(parseInt(value.dateInjured.match(regEx)));
                    var returnDate = new Date(parseInt(value.returnDate.match(regEx)));
                    //var today = new Date();
                    //var diff = today - dob;
                    //var age = parseInt((diff / 1000 / 60 / 60 / 24) / 365);

                    //d += '<tr><td>' + value.name + '</td>';
                    //d += '<td>' + value.position + '</td>';
                    //d += '<td>' + age + '</td>';
                    //d += '<td>' + value.weight + '</td>';
                    //d += '<td>' + value.height + '</td>';
                    //d += '<td><button>View Stats</button></td>'
                    //d += '</tr>';
                });
                $("#bodyAllInjuries").html(d);
            }, function () { console.log("fail") });

        }
        }

        function showDetails(id) {
            alert("You selected id: " + id);
        }
    </script>
</body>
</html>


